# Django .env file generated by Ansible
# Generated on: {{ ansible_date_time.iso8601 }}

# Django configuration
DEBUG={{ 'False' if environment == 'production' else 'True' }}
DJANGO_SECRET_KEY={{ django_secret_key }}
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0,django-app,django,{{ domain_name }}{% if enable_www_redirect %},www.{{ domain_name }}{% endif %}


# Database configuration
DB_NAME={{ db_name }}
DB_USER={{ db_user }}
DB_PASSWORD={{ db_password }}
DB_HOST=postgresql
DB_PORT=5432

# Redis configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0

# Email/SMTP configuration
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST={{ smtp_host }}
EMAIL_PORT={{ smtp_port }}
EMAIL_USE_TLS={{ smtp_use_tls }}
EMAIL_HOST_USER={{ smtp_username }}
EMAIL_HOST_PASSWORD={{ smtp_password }}
DEFAULT_FROM_EMAIL={{ smtp_username }}

# Monitoring configuration
MONITORING_ENABLED=True
ALERT_EMAIL={{ alert_email }}
WEBHOOK_URL={{ webhook_url }}

# Security settings (production)
{% if environment == 'production' %}
SECURE_SSL_REDIRECT=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
HSTS_SECONDS=31536000
{% else %}
SECURE_SSL_REDIRECT=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False
HSTS_SECONDS=0
{% endif %}

# Gunicorn configuration
GUNICORN_WORKERS=4

# Django superuser (for initial setup)
DJANGO_SUPERUSER_USERNAME={{ django_superuser_username }}
DJANGO_SUPERUSER_EMAIL={{ django_superuser_email }}
DJANGO_SUPERUSER_PASSWORD={{ django_superuser_password }}
